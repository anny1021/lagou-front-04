### 学习笔记

#### 从两个纬度，区分 语言强类型，弱类型的语言

- 类型安全
  - 强类型
    - 行参与实参类型相同 -》 类型约束
    - 从语法层面 -》不允许任何隐式的类型转换
  - 弱类型
    - 不会限制实参的类型
    - 允许隐式类型的转换
    - js 从代码逻辑运行层面，判断是否为合理值，错误的情况抛错
  - 变量的类型随意转换，是否能作为界定 强弱 类型语言的标准？
- 类型检查
  - 静态类型
    - 声明之后，不允许类型变更
  - 动态类型
    - 变量没有类型，存储的值有类型

#### JavaScript 自有类型系统的问题

- 优势
  - 灵活 -> 对应的就是需要严谨的使用
  - 无编译的过程
- 弱类型语言面对的问题
  - 无类型声明
  - 无确定属性存在
  - 隐式值的转换
- 强类型的语言的优势
  - 错误更早的暴露
  - 代码更加智能，编码更准确
  - 重构更牢靠
  - 减少不必要的类型判断

#### Flow 静态类型检查方案

- 源：2014 facebook 发行的解决方式
- 使用于 开发环境
- 可以仅为需要的地方，添加类型注解
- package 的一个依赖 -> flow-bin

- 使用 flow 方式，检验代码编写
  - 安装依赖：package 安装 flow-bin
  - 检查初始化：flow init
  - 启动检验：flow
  - 需要标注的文件头部添加：@flow 代表当前文件需要被验证
- 使用 babel 去除 flow 注解 -> 需要二次转译
  - [官方推荐] flow-remove-types
  - 添加 babel -> 移除类型标注后的文件
    - @babel/core
    - @babel/cli
    - @babel/preset-flow
- flow 的 插件 -> flow language wupport[官方提供的插件]
- 类型推断
- 类型注解
- 类型
  - 原始类型
    - 数据基础类型
      - number,string,boolean,undefined,null
      - void
  - 数据类型
    - number[]
      - 其中 number 可以换为 数组中存放的数据类型
    - Array<T>
      - 其中 T 可以换为 数组中存放的数据类型
  - 对象类型
    - object
    - {[key:string]: string}
    - {keyType: valueType}
  - 函数类型
    - ()=>void
      - 需要单独标注 参数类型 、返回值类型
        - 返回值类型 若没有标记为 void
  - 特殊类型
    - any
    - type
      - 一般用于定义，一个变量的几种不同值
      - type 为类型定义的关键字
    - interface 接口类型
      - 一般用于定义 类的类型
      - 建议：
        - 多个关联的接口定义拆分为 粒子比较小的 接口类型
        - 需要时，多个类型接口 extends
    - 元组类型
      - 用户定义成对出现，且有规律的数据
    - 泛型
      - 将一个具体的类型，设置为形参，具体使用时候，在具体传入类型
- 混合使用
  - mixed
    - 与 any 不同
    - mixed 需要自己判断当前值的类型，在做对应的操作，否则会报语法错误
  - [慎用]any -> 任意类型
    - 与 原生 未有类型标注的环境一致
  - declare
    - 一些标准类型库，并没有类型定义时，可自行定义库的类型

#### TypeScript 语言规范与基本应用

- 与 flow 的基本语言规范类似
- 配置文件
  - 配置将文件转译为 指定 ecma 版本
  - 可在 lib 中加载 编写代码时候的依赖文件
- 其他
  - [不建议] ts 报错信息可以设置为中文
  - 默认导出的 变量都为全局作用域，所以需要 export
- ts

  - 类型
    - 枚举类型 enum
    - 添加 const 将没有 index 数值类型的转换
    - 类
      - 只读属性
      - 访问修饰符
        - public 默认
        - protected
        - private
      - 关键字 abstract
      - 抽象类
      - 抽象类方法
  - 隐式类型推断
  - 类型断言
    - as
    - <>
